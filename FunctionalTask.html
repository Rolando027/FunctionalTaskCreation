<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<title>Functional Task Creation</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<style>
  
        /* Style for body and container */
        body {
            font-family: Arial, sans-serif;
            background-image: url(./BgBlue.jpg);
            background-size: cover;
	        background-position: top center;
            color:#ffffff;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            background: transparent;
            backdrop-filter: blur(10px);
            border-radius: 10px;
            display: center;
            Box-shadow: 0px 0px 18px 0 #0c9cfc;
        }
        .button1{
            background-color: #008CBA;
            border:rgba(0, 0, 0, 0.1);
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: dotted;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            padding: 20px;
		    border-radius: 10px;
	        margin: 30px;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            box-shadow: 0px 0px 18px 0 #2701ff;
            transition: .3s ease box-shadow;
        }
        .button1:hover{
            box-shadow: 0px 0px 5px 0 #2701ff;

        }
        .container:hover{
            box-shadow: 0px 0px 5px 0 #0c9cfc; 
        }
        
        
        /* ends here */
</style>
</head>

<div class="container">   
    <Center>     
    <img src="AIGback.JPG" class="img-responsive" alt="AIGback" width="500" height="300">;
    </Center>
  </div>
<body>
<div class="container">
<div>
<center>
<table>
<tr>
<td>
                        Date:
</td>
<td>
                        Subject:
</td>
</tr>
<tr>
<td>
<input type="date" id="det" class="form-control">
</td>
<td>
<input type="text" id="subj" class="form-control">
</td>
</tr>
</table>
</center>
<fieldset class="border p-2">
<legend class="float-none w-auto">Short Description</legend>
<center>
<table>
    <tr align="center">
        <td>
                                    Mailbox
        </td>
        <td>
                                    Region
        </td>
        <td>
                                    SLA
        </td>
        <td>
                                    Scope
        </td>
        <td>
                                     Sender   
        </td>
        <td>
                                     Shift   
        </td>
        </tr>
<tr>
<td>
<select id="SD1" class="form-control">
<option value=""></option>
<option value="GSD">GSD</option>
<option value="CM">CM</option>
</select>
</td>
<td>
<select id="SD2" class="form-control">
<option value=""></option>
<option value="APAC">APAC</option>
<option value="EMEA">EMEA</option>
<option value="AMER">AMER</option>
</select>
</td>
<td>
<select id="SD3" class="form-control">
<option value=""></option>
<option value="BRCH">BRCH</option>
<option value="NBRCH">NBRCH</option>
<option value="No Ticket">No Ticket</option>
</select>
</td>
<td>
<select id="SD4" class="form-control">
<option value=""></option>
<option value="GSD">GSD</option>
<option value="NGSD">NGSD</option>
<option value="No Ticket">No Ticket</option>
</select>
</td>
<td>
<input type="text" id="sdText" class="form-control">
</td>
<td>
<select id="SD5" class="form-control">
<option value=""></option>
<option value="APAC">APAC</option>
<option value="EMEA">EMEA</option>
<option value="AMER">AMER</option>
</select>
</td>
</tr>
</table>
</center>
</fieldset>
<fieldset class="border p-2">
<legend class="float-none w-auto">CM Closure Notes</legend>
<center>
<select id="ClosureNotes" onchange="Arte()" class="form-control">
<option value="">CM Closure Notes</option>
<option value="1">Misrouted/mishandled|<pre><</pre>Agent Name><pre><</pre>Assignment Group><pre><</pre>SST>| KB number or No KB</option>
<option value="2">Outage|Tracking or Master Ticket</option>
<option value="3">Critical Escalation- (Proceed with the analysis for Critical Escalation)</option>
<option value="4">GSD out of scope|Issue</option>
<option value="5">Invalid</option>
</select>
<div class = "input-group input-group-sm mb-3">
<input type="text" id="CNotes" size="80" class="form-control">
</div>
</center>
</fieldset>
<fieldset class="border p-2">
<legend class="float-none w-auto">Escalation Closure Notes</legend>
<center>
<table>
<tr align="center">
<td>
                            Category
</td>
<td>
                            Fail point
</td>
<td>
                            Resolution Owner
</td>
<td>
                            Subcategory
</td>
</tr>
<tr>
<td>
<select id="category" onchange="UpdateReason()" class="form-control">
<option value=""></option>
<option value="People">People</option>
<option value="Process">Process</option>
<option value="Technology">Technology</option>
<option value="Catalog">Catalog</option>
<option value="Expedite">Expedite</option>
<option value="Invalid">Invalid</option>
<option value="VIP">VIP</option>
</select>
</td>
<td>
<select id="FailPoint" class="form-control">
<option value=""></option>
<option value="GSD">GSD</option>
<option value="NGSD">NGSD</option>
<option value="NA">NA</option>
</select>
</td>
<td>
<input type="text" id="Reso" class="form-control">
</td>
<td>
<input type="text" id="SubCat" class="form-control">
</td>
</tr>
</table>
</center>    
</fieldset>
<fieldset class="border p-2" >
<legend class="float-none w-auto">Reason for Escalation</legend>
<center>
<select id="reason" class="form-control">
<option value="0"></option>
</select>
</center>
</fieldset>
<fieldset class="border p-2">
<legend class="float-none w-auto">Work in progress</legend>
<center>
<select id="InProg" class="form-control">
<option value=""></option>
<option value="Support Escalation Ongoing">Support Escalation Ongoing</option>
<option value="Awaiting User Info">Awaiting User Info</option>
<option value="Pending User Confirmation">Pending User Confirmation</option>
</select>
</center>
</fieldset>
<div>
<button class="button1" onclick="myFunction()"> Extract Notes </button>
</div>
<div id="dispTemp">
<center> EXTRACTED NOTES GOES HERE </center>
</div>
<script>
    function Arte(){
        const rason = document.getElementById("ClosureNotes");
        const rason2 = document.getElementById("CNotes");
        const SValue = rason.value;
        rason2.value = "";
        if (SValue === "1"){
            rason2.value = "Misrouted/mishandled|(Agent Name)(Assignment Group)(SST)| KB number or No KB";
        } else if (SValue === "2"){
            rason2.value = "Outage|Tracking or Master Ticket";
        } else if (SValue ==="3"){
            rason2.value = "Critical Escalation- (Proceed with the analysis for Critical Escalation)";
        } else if (SValue ==="4"){
            rason2.value = "GSD out of scope|Issue";
        } else if (SValue === "5"){
            rason2.value = "Invalid";
        }
    }
               function UpdateReason(){
                    const category1 = document.getElementById("category");
                    const reason1 = document.getElementById("reason");
                    const selectedValue = category1.value;
                    reason1.options.length = 0;
                    if (selectedValue === "People"){
                        reason1.options.add(new Option("Ticket closed prematurely","Ticket closed prematurely"));
                        reason1.options.add(new Option("Failed callback","Failed callback"));
                        reason1.options.add(new Option("Professionalism","Professionalism"));
                        reason1.options.add(new Option("Incomplete or incorrect troubleshooting","Incomplete or incorrect troubleshooting"));
                    } else if (selectedValue === "Process"){
                        reason1.options.add(new Option("Tickets bouncing around","Tickets bouncing around"));
                        reason1.options.add(new Option("For KB articles with defects - Indicate defect","For KB articles with defects - Indicate defect"));
                        reason1.options.add(new Option("For issues with no KB - Indicate the user's issue","For issues with no KB - Indicate the user's issue"));
                        reason1.options.add(new Option("Long waiting time in GSD Chat Support queue","Long waiting time in GSD Chat Support queue"));
                        reason1.options.add(new Option("Long waiting time in GSD Phone queue","Long waiting time in GSD Phone queue"));
                    } else if (selectedValue === "Technology"){
                        reason1.options.add(new Option("Recurring issue","Recurring issue"));
                        reason1.options.add(new Option("Multiple users affected","Multiple users affected"));
                    } else if (selectedValue === "Catalog"){
                        reason1.options.add(new Option("User unable to fill out the form correctly","User unable to fill out the form correctly"));
                        reason1.options.add(new Option("Incorrect Catalog Raised","Incorrect Catalog Raised"));
                    } else if (selectedValue === "Expedite"){
                        reason1.options.add(new Option("Work stoppage","Work stoppage"));
                        reason1.options.add(new Option("User finds the SLA too long","User finds the SLA too long"));
                    } else if (selectedValue === "Invalid"){
                        reason1.options.add(new Option("No ticket","No ticket"));
                        reason1.options.add(new Option("Pending for Approval","Pending for Approval"));
                        reason1.options.add(new Option("CRBG user","CRBG user"));
                        reason1.options.add(new Option("No standard escalation process","No standard escalation process"));
                        reason1.options.add(new Option("No L1 triage","No L1 triage"));
                        reason1.options.add(new Option("Vendors Issue","Vendors Issue"));
                    } else if (selectedValue === "VIP"){
                        reason1.options.add(new Option("Work stoppage","Work stoppage"));
                        reason1.options.add(new Option("User finds the SLA too long","User finds the SLA too long"));
                        reason1.options.add(new Option("General Query","General Query"));
                }
            }
                function myFunction(){
                    const deytinput = document.getElementById('det').value;
                    const dateObj = new Date(deytinput)
                    const formattedDate =
                    dateObj.toLocaleDateString('en-US',{
                        month: '2-digit',
                        day: '2-digit',
                        year: '2-digit'
                    });
                    var sub = document.getElementById('subj').value;
                    var sd1 = document.getElementById('SD1').value;
                    var sd2 = document.getElementById('SD2').value;
                    var sd3 = document.getElementById('SD3').value;
                    var sd4 = document.getElementById('SD4').value;
                    var sdt = document.getElementById('sdText').value;
                    var sd5 = document.getElementById('SD5').value;
                    var cn = document.getElementById('CNotes').value;
                    var cat = document.getElementById('category').value
                    var FP = document.getElementById('FailPoint').value
                    var res = document.getElementById('Reso').value
                    var sc = document.getElementById('SubCat').value
                    var reasonval = document.getElementById('reason').value
                    var ip = document.getElementById('InProg').value
                    document.getElementById("dispTemp").innerHTML = "<br>Short Description: " + sd1 + "|" + sd2 + "|" + sd3 + "|" + sd4 + "|" + sdt + "|" + sd5 + "<br>Description: " + formattedDate + "|" + sub + "<br>Closure Notes: " + cn + ip + "<br>" + cat + "|" + FP + "|" + res + "|" + sc + "|" + reasonval;
                    
                }

</script>
</div>
</div>
</body>
</html>